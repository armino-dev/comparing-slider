(()=>{var a=class{constructor(e){this.dragging=!1,this.container=document.getElementById(e.containerId),this.container.classList.add("comparing-slider-container"),this.container.innerHTML=`
            <img width="100%" src="${e?.right?.image}" alt="${e?.right?.alt??""}">
            <div class="comparing-slider-resize-layer">
                <img width="100%" src="${e?.left?.image}" alt="${e?.left?.alt??""}">
            </div>
            <div class="comparing-slider-handle">
            </div>`,this.handle=this.container.querySelector(".comparing-slider-handle"),this.resizeLayer=this.container.querySelector(".comparing-slider-resize-layer"),this.initialize()}initialize(){this.checkInitialPosition(),window.addEventListener("scroll",this.throttledScrollHandler.bind(this)),window.addEventListener("resize",this.throttledScrollHandler.bind(this)),this.container.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.container.addEventListener("touchstart",this.handleMouseDown.bind(this))}checkInitialPosition(){let e=this.container.offsetTop,n=window.scrollY+window.innerHeight*.5>e;this.container.classList.toggle("visible",n)}throttledScrollHandler(){this.throttleTimeout||(this.throttleTimeout=setTimeout(()=>{this.checkInitialPosition(),this.throttleTimeout=null},100))}animateHandle(e){let n=e.type==="touchmove"?e.changedTouches[0].pageX:e.pageX,t=this.handle.offsetWidth,i=this.container.getBoundingClientRect().left,s=this.container.offsetWidth,d=i-t/2,l=i+s-t/2,r=(Math.max(d,Math.min(n,l))+t/2-i)/s*100+"%";this.handle.style.left=r,this.resizeLayer.style.width=r,this.dragging=!1}handleMouseDown(e){if(e.preventDefault(),!e.target.classList.contains("comparing-slider-handle"))return;this.dragging=!0,this.handle.classList.add("draggable"),this.resizeLayer.classList.add("resizable");let t=s=>{requestAnimationFrame(()=>{this.animateHandle(s)})},i=()=>{this.dragging=!1,this.handle.classList.remove("draggable"),this.resizeLayer.classList.remove("resizable"),document.removeEventListener("mousemove",t),document.removeEventListener("touchmove",t),document.removeEventListener("mouseup",i),document.removeEventListener("touchend",i)};document.addEventListener("mousemove",t),document.addEventListener("touchmove",t),document.addEventListener("mouseup",i),document.addEventListener("touchend",i)}};window.createComparingSlider=o=>new a(o);})();
