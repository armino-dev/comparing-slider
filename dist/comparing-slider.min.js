(()=>{var l=class{constructor(e){this.dragging=!1,this.container=document.getElementById(e.containerId),this.container.classList.add("comparing-slider-container"),this.container.innerHTML=`
            <img width="100%" src="${e?.right?.image}" alt="${e?.right?.alt??""}">
            <div class="comparing-slider-resize-layer">
                <img width="100%" src="${e?.left?.image}" alt="${e?.left?.alt??""}">
            </div>
            <div class="comparing-slider-handle">
            </div>`,this.handle=this.container.querySelector(".comparing-slider-handle"),this.resizeLayer=this.container.querySelector(".comparing-slider-resize-layer"),this.initialize()}initialize(){this.checkInitialPosition(),window.addEventListener("scroll",this.throttledScrollHandler.bind(this)),window.addEventListener("resize",this.throttledScrollHandler.bind(this)),this.container.addEventListener("mousedown",this.handleMouseDown.bind(this))}checkInitialPosition(){let e=this.container.offsetTop,a=window.scrollY+window.innerHeight*.5>e;this.container.classList.toggle("visible",a)}throttledScrollHandler(){this.throttleTimeout||(this.throttleTimeout=setTimeout(()=>{this.checkInitialPosition(),this.throttleTimeout=null},100))}animateHandle(e,a,t,o,i,r,d){let n=e.pageX+a-t;n=Math.max(o,Math.min(n,i));let s=(n+t/2-r)/d*100+"%";this.handle.style.left=s,this.resizeLayer.style.width=s,this.dragging=!1}handleMouseDown(e){if(!e.target.classList.contains("comparing-slider-handle"))return;this.dragging=!0,this.handle.classList.add("draggable"),this.resizeLayer.classList.add("resizable");let t=this.handle.offsetWidth,o=this.handle.getBoundingClientRect().left+t-e.pageX,i=this.container.getBoundingClientRect().left,r=this.container.offsetWidth,d=i-t/2,n=i+r-t/2,s=m=>{requestAnimationFrame(()=>{this.animateHandle(m,o,t,d,n,i,r)})},h=()=>{this.dragging=!1,this.handle.classList.remove("draggable"),this.resizeLayer.classList.remove("resizable"),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",h)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",h),e.preventDefault()}};window.createComparingSlider=c=>new l(c);})();
